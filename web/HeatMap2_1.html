<!DOCTYPE>

<head>
<meta charset="utf-8">
<meta name="description" content="Optim">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<link type="text/css" rel="stylesheet" href="css/style.css">

 <script src="js/canvasjs.min.js"></script>
<script src="js/jquery-1.11.3.min.js"></script>

<script src="Json/heatmap.json"></script>


<script>
;
 function heat()
{ 
var mydata = JSON.parse(heatmap)
var table = $('#tabledisplay');
		var green = "Style = 'background-color:green' >";
		var amber = "Style = 'background-color:orange' >";
		var red = "Style = 'background-color:red' >";
var sum2 =0;
var sum3 =0;
var sum4 =0;
var sum5 =0;
var sum6 =0;
var sum7 =0;
var sum8 =0;
var sum9 =0;
var sum10 =0;
var sum11 =0;
var sum12 =0;
var sum13 =0;
var sum14 =0;
for (var i = 0; i < mydata.length; i++) {
    
   var row,col,tabl,HiringRow,NotHiredRow,HiredRow,TrainedRow,TrainingRow,NotTrainedRow,SuccessorRow,PredecessorRow,OpenListRow,OcupiedListRow,NoticeListRow;
    row = "<tr class='roles'><td>" + mydata[i].Title+"</td>";
	   var value1 = mydata[i].HeatMapHiring.Hiring.length;
	   var value2 = mydata[i].HeatMapHiring.Hired.length;
	   var value3 = mydata[i].HeatMapHiring.NotHired.length;
	   var green = "Style='background-color:green' >";
	   var amber = "Style = 'background-color:orange' >";
	   var red = "Style = 'background-color:red' >";
   
	  <!--  make totals-->
	   
	   sum2  =(value1+sum2);
	   sum3  =(value2+sum3);
	   sum4  =(value3+sum4);
	      
	    if(value1 <= 1){ 
		HiringRow +="<td "+red+value1+"</td>";
		}else if(value1 <=2){
		HiringRow +="<td "+amber+value1+"</td>";
		}else if(value1 >=3){
		HiringRow +="<td "+green+value1+"</td>";
		}
	
	 if(value2 <= 1){ 
		HiredRow +="<td "+ red+value2+"</td>";
		}else if(value2 <=2){
		HiredRow +="<td "+ amber+value2+"</td>";
		}else if(value2 >=3){
		HiredRow +="<td "+ green+value2+"</td>";
		}
		
		if(value3 <= 1){ 
		 NotHiredRow +="<td "+red + value3+"</td>";
		}else if(value3 <=2){
		 NotHiredRow +="<td "+amber+ value3+"</td>";
		}else if(value3 >=3){
		 NotHiredRow +="<td "+green+ value3+"</td>";
		}
		/*-------------end of hire----------*/
       
		var tvalue1 = mydata[i].HeatMapTraining.Training.length;
		var tvalue2 = mydata[i].HeatMapTraining.Trained.length
		var tvalue3 = mydata[i].HeatMapTraining.NotTrained.length
		
	    sum5  =(tvalue1+sum5);
		sum6  =(tvalue2+sum6);
		sum7  =(tvalue3+sum7);
		
		
		if(tvalue1 <= 1){ 
		TrainingRow +="<td "+red +tvalue1+"</td>";
		}else if(tvalue1 <=2){
		 TrainingRow +="<td "+amber +tvalue1+"</td>";
		}else if(tvalue1 >=3){
		 TrainingRow +="<td "+green +tvalue1+"</td>";
		}
	
	  	if(tvalue2 <= 1){ 
		TrainedRow +="<td "+ red+tvalue2+"</td>";
		}else if(tvalue2 <=2){
		 TrainedRow +="<td "+ amber+tvalue2+"</td>";
		}else if(tvalue2 >=3){
		 TrainedRow +="<td "+ green+tvalue2+"</td>";
		}
		
			if(tvalue3 <= 1){ 
		NotTrainedRow +="<td "+red+tvalue3+"</td>";
		}else if(tvalue3 <=2){
		 NotTrainedRow +="<td "+amber+tvalue3+"</td>";
		}else if(tvalue3 >=3){
		 NotTrainedRow +="<td "+green+tvalue3+"</td>";
		}
		/*---- done training-----*/
        
		var cvalue1 = mydata[i].HeatMapCapacity.NoticeList.length;
		var cvalue2 = mydata[i].HeatMapCapacity.OcupiedList.length;
		var cvalue3 =mydata[i].HeatMapCapacity.OpenList.length;
		
		
		sum8  =(cvalue1+sum8);
		sum9  =(cvalue2+sum9);
		sum10  =(cvalue3+sum10);

			if(cvalue1 <= 1){
			
		NoticeListRow +="<td "+ red+cvalue1+"</td>";
		
		}else if(cvalue1 <=2){
		NoticeListRow +="<td "+ amber+cvalue1+"</td>";
		
		}else if(cvalue1 >=3){
		 NoticeListRow +="<td "+ green+cvalue1+"</td>";
		}
		
			if(cvalue2 <= 1){ 
		 OcupiedListRow +="<td "+ red+cvalue2+"</td>";
		
		}else if(cvalue2 <=2){
		 OcupiedListRow +="<td "+ amber+cvalue2+"</td>";
		
		}else if(cvalue2 >=3){
		  OcupiedListRow +="<td "+ green+cvalue2+"</td>";
		  
		}
		
       
	   	if(cvalue3 <= 1){ 
		 OpenListRow +="<td "+ red+cvalue3+"</td>";
		}else if(cvalue3 <=2){
		  OpenListRow +="<td "+ amber+cvalue3+"</td>";
		}else if(cvalue3 >=3){
		  OpenListRow +="<td "+ green+cvalue3+"</td>";
		}
		/******-- end of capacity--*/
		
		
		var svalue1 = mydata[i].HeatMapSuccession.PredecessorList.length;
		var svalue2 = mydata[i].HeatMapSuccession.Successor.length;
		sum11  =(svalue1+sum11);
		sum12  =(svalue2+sum12);
		
		if(svalue1 <= 1){ 
		 PredecessorRow +="<td "+red+svalue1+"</td>";
		}else if(svalue1 <=2){
		 PredecessorRow +="<td "+amber+svalue1+"</td>";
		}else if(svalue1 >=3){
		  PredecessorRow +="<td "+green+svalue1+"</td>";
		}
		
		
		if(svalue2 <= 1){ 
		  SuccessorRow +="<td "+ red+svalue2+"</td>";
		}else if(svalue2 <=2){
		  SuccessorRow +="<td "+ amber+svalue2+"</td>";
		}else if(svalue2 >=3){
		   SuccessorRow +="<td "+ green+svalue2+"</td>";
		}
		/* summing up */
		var sum='';
		
      if(i == mydata.length-1){
	     sum = "<tr class='sum_total'><td>Total</td>"+ "<td>"+sum2+"</td>" 
		 +"<td>"+sum3+"</td>"+
		 "<td>"+sum4+"</td>"+
		 "<td>"+sum5+"</td>"+
		 "<td>"+sum6+"</td>"+
		  "<td>"+sum7+"</td>"+
		   "<td>"+sum8+"</td>"+
		   "<td>"+sum9+"</td>"+
		  "<td>"+sum10+"</td>"+
		   "<td>"+sum11+"</td>"+
		    "<td>"+sum12+"</td>"+
		 +"<td>"+sum13+"</td>"
		 
		 +"</tr>";
	  }
        /* end summing up */
     col = "</tr>"; 
     tabl = row+HiringRow+HiredRow+NotHiredRow+TrainingRow+TrainedRow+NotTrainedRow+NoticeListRow+OcupiedListRow+								OpenListRow+PredecessorRow+SuccessorRow+col+sum;
       table.append(tabl);
       HiringRow ='';
	  NotHiredRow='';
	  HiredRow='';
	  TrainedRow='';
	  TrainingRow='';
	  NotTrainedRow='';
	  OpenListRow='';
	  OcupiedListRow='';
	  NoticeListRow='';
	  SuccessorRow='';
	  PredecessorRow='';
	  
}


};
 
</script>

<script>
document.body.onload = function() {

 
};
</script>
<script>


 function g(){
	//canvas initialization
	var canvas = document.getElementById("canvas");
	var ctx = canvas.getContext("2d");
	//dimensions
	
	var W = canvas.width;
	var H = canvas.height;
	//Variables
	var degrees = 0;
	var new_degrees = 0;
	var difference = 0;
	var color = "lightgreen"; //green looks better to me
	var bgcolor = "#222";
	var text;
	var animation_loop, redraw_loop;
	
	function init()
	{
		//Clear the canvas everytime a chart is drawn
		ctx.clearRect(0, 0, W, H);
		
		//Background 360 degree arc
		ctx.beginPath();
		ctx.strokeStyle = bgcolor;
		ctx.lineWidth = 30;
		ctx.arc(W/2, H/2, 100, 0, Math.PI*2, false); //you can see the arc now
		ctx.stroke();
		
		//gauge will be a simple arc
		//Angle in radians = angle in degrees * PI / 180
		var radians = degrees * Math.PI / 180;
		ctx.beginPath();
		ctx.strokeStyle = color;
		ctx.lineWidth = 30;
		//The arc starts from the rightmost end. If we deduct 90 degrees from the angles
		//the arc will start from the topmost end
		ctx.arc(W/2, H/2, 100, 0 - 90*Math.PI/180, radians - 90*Math.PI/180, false); 
		//you can see the arc now
		ctx.stroke();
		
		//Lets add the text
		ctx.fillStyle = color;
		ctx.font = "50px bebas";
		text = Math.floor(degrees/360*100) + "%";
		//Lets center the text
		//deducting half of text width from position x
		text_width = ctx.measureText(text).width;
		//adding manual value to position y since the height of the text cannot
		//be measured easily. There are hacks but we will keep it manual for now.
		ctx.fillText(text, W/2 - text_width/2, H/2 + 15);
	}
	
	function draw()
	{
		//Cancel any movement animation if a new chart is requested
		if(typeof animation_loop != undefined) clearInterval(animation_loop);
		
		//random degree from 0 to 360
		new_degrees = Math.round(Math.random()*360);
		difference = new_degrees - degrees;
		//This will animate the gauge to new positions
		//The animation will take 1 second
		//time for each frame is 1sec / difference in degrees
		animation_loop = setInterval(animate_to, 1000/difference);
	}
	
	//function to make the chart move to new degrees
	function animate_to()
	{
		//clear animation loop if degrees reaches to new_degrees
		if(degrees == new_degrees) 
			clearInterval(animation_loop);
		
		if(degrees < new_degrees)
			degrees++;
		else
			degrees--;
			
		init();
	}
	
	//Lets add some animation for fun
	draw();
	redraw_loop = setInterval(draw, 120000); //Draw a new chart every 2 seconds
};




function hide(){
document.getElementById("content_area").style.visibility = "hidden";
}

$(function() {
    
    var  myDivWidth = $( ".side_bar" ).width();
	 var  myDivWidth2 = $( ".content" ).width();
	 var  ruler = $( ".line" ).width();
	 var d = new Date();
      var n = d.getFullYear(); 
	  var day = d.getDate(); 
	 
	var objDate = new Date(),
    locale = "en-us",
    month = objDate.toLocaleString(locale, { month: "short" });



  
    $( "#nav_btn" ).click(function() {
        if ($( ".side_bar" ).width() <= 70) {
            $( ".side_bar" ).animate({width: myDivWidth}, 200); 
			$( ".content" ).animate({width: myDivWidth2}, 200);
			 $(".item").animate({fontSize:'1.2em'}, 25);
			  $(".line").animate({width:ruler}, 25);
			   $(".line").animate({margin:30}, 25);
		  document.getElementById("month").innerHTML = "";
		  document.getElementById("year").innerHTML = "";
		  document.getElementById("day").innerHTML = "";
				    
        } else {            
            $( ".side_bar" ).animate({width:60}, 200);
			$( ".content" ).animate({width: 1307}, 200); 
			 $(".item").animate({fontSize:0}, 25);
			 $(".line").animate({width:50}, 25);
			 $(".line").animate({margin:5}, 25);
		   
		  document.getElementById("day").innerHTML = day;	 
          document.getElementById("month").innerHTML = month;
		  document.getElementById("year").innerHTML = n;
		  
			
          
        }     
    });     

});

	
</script>

<script type="text/javascript">
  window.onload = function () {
     heat();
    var chart1 = new CanvasJS.Chart("hiringContainter",
    {
      title:{
        text: "Hiring"
      },
      data: [
      {
       type: "doughnut", 
       dataPoints: [
       { color: "#D90F14", y: 53.37, indexLabel: "Not Hired" },
       { color: "green", y: 35.0, indexLabel: "Hired" },
	    { color: "#FF8000", y: 15.0, indexLabel: "Hiring" }
   
      
       ]
     }
     ]
   });

  var chart2 = new CanvasJS.Chart("trainingContainter",
    {
      title:{
        text: "Training"
      },
      data: [
      {
       type: "doughnut", 
       dataPoints: [
       { color: "#D90F14", y: 53.37, indexLabel: "Not Trained" },
       { color: "green", y: 35.0, indexLabel: "Trained" },
	    { color: "#FF8000", y: 15.0, indexLabel: "On Training" }
   
      
       ]
     }
     ]
   });

  var chart3 = new CanvasJS.Chart("capacityContainter",
    {
      title:{
        text: "Capacity"
      },
      data: [
      {
       type: "doughnut", 
       dataPoints: [
       { color: "#D90F14", y: 53.37, indexLabel: "Notice" },
       { color: "green", y: 35.0, indexLabel: "Placed" },
	    { color: "#FF8000", y: 15.0, indexLabel: "Open Position" }
   
      
       ]
     }
     ]
   });

 var chart4 = new CanvasJS.Chart("suceessContainer",
    {
      title:{
        text: "Sucession"
      },
      data: [
      {
       type: "doughnut", 
       dataPoints: [
       { color: "#D90F14", y: 53.37, indexLabel: "Predecessors" },
       { color: "green", y: 35.0, indexLabel: "Successors" },
	    { color: "#FF8000", y: 15.0, indexLabel: "No Successors" }
   
      
       ]
     }
     ]
   });
     chart1.render();
	  chart2.render();
	   chart3.render();
	    chart4.render();
    
  };
  </script>
<title>Optim </title>

<style>
/*-----------------------profile menu ------------------ */

.onclick-menu {
    position: relative;
    display: inline-block;
	

}

.onclick-menu:focus {
    /* clicking on img should toggle the menu */
    pointer-events: none;
}

.onclick-menu:focus .menu:after{
 border-bottom:10px solid  #2393E4;
    border-left:10px solid transparent;
    border-right:10px solid transparent;
    width:0;
    height:0;
    content:"";
    position:relative;
	top:-10px;
	bottom:80;
	
    left:14em;
}

.onclick-menu:focus .onclick-menu-content {
    /*  opacity is 1 in opened state (see below) */
    opacity: 1;
    visibility: visible;
    
    /* don't let pointer-events affect descendant elements */
    pointer-events: auto;
}
.onclick-menu-content {
    position: absolute;
    z-index: 1;

    /* use opacity to fake immediate toggle */
    opacity: 0;
    visibility: hidden;
    transition: visibility 0.5s;
}


/*----------------------end of profile menu ----*/

.onclick-msg-menu {
    position: relative;
    display: inline-block;
}

.onclick-msg-menu:focus {
    /* clicking on img should toggle the menu */
    pointer-events: none;
}

.onclick-msg-menu:focus .noti-menu:after{
 border-bottom:10px solid  #333;
    border-left:10px solid transparent;
    border-right:10px solid transparent;
    width:0;
    height:0;
    content:"";
    position:relative;
	top:-10px;
	bottom:80;
	
    left:15em;
}

.onclick-msg-menu:focus .onclick-noti-content {
    /*  opacity is 1 in opened state (see below) */
    opacity: 1;
    visibility: visible;
    
    /* don't let pointer-events affect descendant elements */
    pointer-events: auto;
}
.onclick-noti-content {
    position: absolute;
    z-index: 1;

    /* use opacity to fake immediate toggle */
    opacity: 0;
    visibility: hidden;
    transition: visibility 0.5s;
}

/* --------end of notification menu ------ */

.onclick-inbox-menu {
    position: relative;
    display: inline-block;
}

.onclick-inbox-menu:focus {
    /* clicking on img should toggle the menu */
    pointer-events: none;
}

.onclick-inbox-menu:focus .inbox-menu:after{
 border-bottom:10px solid  #333;
    border-left:10px solid transparent;
    border-right:10px solid transparent;
    width:0;
    height:0;
    content:"";
    position:relative;
	top:-10px;
	bottom:80;
	
    left:16em;
}

.onclick-inbox-menu:focus .onclick-inbox-content {
    /*  opacity is 1 in opened state (see below) */
    opacity: 1;
    visibility: visible;
    
    /* don't let pointer-events affect descendant elements */
    pointer-events: auto;
}
.onclick-inbox-content {
    position: absolute;
    z-index: 1;

    /* use opacity to fake immediate toggle */
    opacity: 0;
    visibility: hidden;
    transition: visibility 0.5s;
}
</style>



</head>

<body >

<div id="wrapper">
    <div class="banner">
	 
	 <div class="menu-box">
	    <img src="img/show_men.png" id="nav_btn" class="menu_img"/>	
	
		 </div>
	 
	  <div class="logo-box" > 
<img src="img/Optime22.gif" id="optim_icon"   class="optim_icon"/> 

	 </div>
	  <div id="profile-box" tabindex="0" class="onclick-menu">
	     <img src="img/no-profile-male-img.gif"   id="profile" class="user_icon"/>
		 
		 
		   <div class="popover">
		    <nav class="menu">
			
			<ul class="onclick-menu-content">
			<div class="user_placeholder">
			 <img src="img/no-profile-male-img.gif"  id="pop_img_profile"  style="width:60px;height:60px;">	
			 <div class="username">
			 	<Span>Jack Daniel</Span>		    
			  </div>					    
			  </div>
		   
				
				<li class="current-item" id="account"><span>Account Settings</span></li>
				<li class="current-item" id="help"><span>Help</span></li>
				<li class="current-item" id="logout"><span>Logout</span></li>
			</ul>
			</nav>
	</div>
	 </div>
	     
	  <div id="noti-box"  tabindex="0" class="onclick-msg-menu">
	  
	   <div class="warning_count" >
		    <span>0</span>
			</div>

	      <img src="img/12233.png" id="flag" class="noti_icon" />
		  
		<div class="noti-popover">
	 <nav class="noti-menu">		
		<ul class="onclick-noti-content">
		   <li class="noti-header"><span>Notifications(0)</span></li>
		   <li class="noti-content">
		       <span> No Notifications...</span>		   </li>
		  
		</ul>
		
	</nav>
	   </div>
 
        

	 </div>
	  <div id="msg-box" tabindex="0" class="onclick-inbox-menu">
	   <div class="msg_count">
		    <span>0</span>
		 </div>
	      <img src="img/mail.png" id="notification" class="msg_icon"  >
     

        <div class="inbox-popover">
	 <nav class="inbox-menu">    
	  			
			<ul class="onclick-inbox-content">
		   <li class="inbox-header"><span>Messages(0)</span></li>
		   <li class="inbox-content">
		       <span> No Messages...</span>		   </li>
		  
		</ul>
	 </nav>
	 </div>

	 </div>
	 
  </div>

	<div class="content" style="float: right;" id="opt_container">
      
	     <div class="content_area"  >
		
	
		  <div class="capacityPlan_bar">
		 
		  <Span class="cap_header">Heat Map</Span>
		  
				  
				  <span class="notify_box">Reminder<a class="notify">0</a></span>
				    <span class="notify_box">Warnings<a class="notify">0</a></span>
				 <span class="notify_box">Alerts<a class="notify">0</a></span>
				 
		  </div>
		<div class="heatwrap_cap">
		  <div class="heat_board">
		   
		      <section class ="notes">
 
 <div class="mxm">
   <div class="red"></div><a>Urgent</a>
	<div class="amber"></div><a>Needs Attention</a>
	<div class="green"></div><a>On Track</a>
	
	<div class="dwnload" ><a>Download</a></div>

	<div class="print"><a>Print</a></div>
	</div>
	
 </section>
<section class ="hmap-table">

<table class="hitmap-table" id="tabledisplay" align="center">
  <tr>
    <th  style="visibility:collapse;"></th>
	
    <th colspan="3" class="theader" >Hiring</th>
    <th colspan="3" class="theader">Training</th>		
    <th colspan="3" class="theader">Capacity</th>
	<th colspan="3" class="theader">Succession</th>
  </tr>
  <tr>
    		
    <td style="visibility:collapse;"></td>
	<td class="properties">Hiring</td>
	<td  class="properties">Hired</td>
	<td  class="properties">Not Hired</td>
	<td  class="properties">Training</td>
	<td  class="properties">Trained</td>
	<td  class="properties">Not Trained</td>
	<td  class="properties">Notice</td>
	<td  class="properties">Placed</td>
	<td  class="properties">Open Positions</td>
	<td  class="properties">Predecessor</td>
	<td  class="properties">Successors</td>
	
	
  </tr>
</table>

</section>

<div class="hit_summary">
   <div class="s" id="suceessContainer" style="height: 300px; width: 45%;">
    </div>
	<div class="a" id="trainingContainter" style="height: 300px; width: 45%;">
    </div>
	<div class="b"  id="hiringContainter" style="height: 300px; width: 45%;">
    </div>
	<div class="c"  id="capacityContainter" style="height: 300px; width: 45%;">
    </div>
</div>	
   				
				
				
		  </div>
		    
	 </div>  
		 
				 </div>   <!--this div wraps the positions list dont touch-->
		 
		 
		 
		   
				</div>  <!---end of content area--->
				 
				 
				 
	
	</div>
	<div class="side_bar" style="float: left;">
	  <ul class = 'side_bar_list'>
 		<li ><a class="item" href="#">Home </a> <img src="img/09_home-512.png" id="img_home" class="icon"  style="width:30px;height:30px;">
		     

		</li>
		 <hr align="right" class="line" width="150px"  size=1>
		  
		<li ><a class="item" href="Dashboard.html">Dashboard</a>
		<img src="img/pie_chart.png" class="icon" id="dash_icon" style="width:30px;height:30px;">
		
		 <hr align="right" class="line" width="150px"  size=1> 
		    </li>
			
		<li ><a class="item" href="HeatMap2.html">Heat Map</a>
		<img src="img/icon_NLG_reporting.png"class="icon"  id="heat_icon"  style="width:30px;height:30px;">
		</li>
		
		 <hr align="right" class="line" width="150px"  size=1>
		  
		<li ><a class="item" href="profiles.html">Profiles</a>
		
		<img src="img/user_group-512.png" class="icon"  id="profile_icon"  style="width:30px;height:30px;">
		</li>
		
		 <hr align="right" class="line" width="150px"  size=1> 
		 
		<li ><a class="item" href="organo.html">Organogram</a>
		
		<img src="img/modeshape-hierarchy.png" class="icon"   id="organo_icon" style="width:30px;height:30px;">
		</li>
		
		 <hr align="right" class="line" width="150px"  size=1> 
		 
		<li ><a class="item" href="projects.html">Book of work</a>
		<img src="img/bow.png" class="icon"  id="book_icon"  style="width:30px;height:30px;">
		</li>
		
		 <hr align="right" class="line" width="150px"  size=1> 			
	  </ul>
	   <a id ="day"> <a id ="month"><a id="year"></a></a></a>
	  
	</div>
	
</div>

</body>
</html>
